{
  "name": "scanner-safe-links",
  "version": "1.0.0",
  "main": "src/worker.ts",
  "scripts": {
    "build": "cd site && npm run build",
    "pages:build": "cd site && npm run pages:build",
    "check:pages-output": "node -e \"const fs=require('fs'); console.log(fs.existsSync('site/.vercel/output/static') ? 'OK: site/.vercel/output/static exists' : 'MISSING: run npm run build'); process.exit(fs.existsSync('site/.vercel/output/static')?0:1)\"",
    "setup:dev": "powershell -ExecutionPolicy Bypass -File scripts/setup-dev.ps1",
    "clean:dev": "powershell -ExecutionPolicy Bypass -File scripts/cleanup-dev.ps1",
    "predev": "npm run clean:dev",
    "dev": "wrangler dev --local --persist-to .wrangler/state --ip 127.0.0.1 --port 8787 --config ./wrangler.worker.toml",
    "dev:remote": "wrangler dev --ip 127.0.0.1 --port 8787 --config ./wrangler.worker.toml",
    "predeploy": "npm run build",
    "deploy": "wrangler deploy --config ./wrangler.worker.toml",
    "deploy:prod": "npm run build && wrangler deploy --config ./wrangler.worker.toml",
    "worker:deploy": "wrangler deploy --config ./wrangler.worker.toml",
    "worker:migrate": "wrangler d1 migrations apply eig-db --remote --config ./wrangler.worker.toml",
    "deploy:pages:note": "node -e \"console.log('To deploy suqram.com (Pages), commit and push to the Pages-connected branch.')\"",
    "d1:migrate:remote": "wrangler d1 execute EIG_DB --remote --file ./migrations/0001_live_tests.sql --config ./wrangler.worker.toml",
    "migrate:d1:remote": "wrangler d1 execute EIG_DB --remote --file ./migrations/0002_live_test_events.sql --config ./wrangler.worker.toml",
    "migrate:d1:local": "wrangler d1 execute EIG_DB --file ./migrations/0002_live_test_events.sql --config ./wrangler.worker.toml",
    "migrate:d1:control:remote": "wrangler d1 execute EIG_DB --remote --file ./migrations/0003_control_tokens.sql --config ./wrangler.worker.toml",
    "migrate:d1:control:local": "wrangler d1 execute EIG_DB --file ./migrations/0003_control_tokens.sql --config ./wrangler.worker.toml",
    "migrate:d1:demo:remote": "wrangler d1 execute EIG_DB --remote --file ./migrations/0004_demo_sessions.sql --config ./wrangler.worker.toml",
    "migrate:d1:demo:local": "wrangler d1 execute EIG_DB --file ./migrations/0004_demo_sessions.sql --config ./wrangler.worker.toml",
    "test": "wrangler d1 execute eig-db --file=sql/schema.sql --local --config ./wrangler.worker.toml && node scripts/smoke.mjs",
    "test:remote": "node scripts/smoke.mjs --remote",
    "seed": "node scripts/seed.mjs",
    "seed:remote": "node scripts/seed.mjs --remote",
    "smoke": "node scripts/smoke.mjs",
    "encode-fragment": "node scripts/encode-fragment.mjs",
    "test:smoke": "node scripts/smoke.mjs",
    "test:replay": "node scripts/replay.mjs",
    "test:expired": "node scripts/expired.mjs",
    "test:scanner": "node scripts/scanner.mjs",
    "test:methods": "node scripts/methods.mjs",
    "test:admin-list": "node scripts/admin_list.mjs",
    "test:receipts-export": "node scripts/receipts_export.mjs",
    "test:summary": "node scripts/summary.mjs",
    "test:hosted-demo": "node scripts/hosted_demo.mjs",
    "test:receipts:sat": "node scripts/receipts_sat_smoke.mjs",
    "test:policy": "node scripts/policy_smoke.mjs",
    "deploy:verify": "node scripts/deploy_verify.mjs",
    "site:create": "node scripts/site_create.mjs",
    "site:create:prod": "node scripts/site_create_prod.mjs",
    "site:get:prod": "node scripts/site_get_prod.mjs",
    "site:update:prod": "node scripts/site_update_prod.mjs",
    "site:rotate-sat:prod": "node scripts/site_rotate_sat_prod.mjs",
    "redeem:demo": "node scripts/redeem_demo.mjs",
    "test:redirect:probe": "node scripts/redirect_probe.mjs",
    "test:redeem": "node scripts/redeem_demo.mjs",
    "test:redeem:fetch": "node scripts/redeem_fetch_smoke.mjs",
    "test:redeem:https": "node scripts/redeem_demo_https.mjs"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "description": "Cloudflare Worker with Durable Object for scanner-safe link protection",
  "devDependencies": {
    "@cloudflare/workers-types": "^4.20241106.0",
    "typescript": "^5.9.3",
    "wrangler": "^4.60.0"
  }
}
